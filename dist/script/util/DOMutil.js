"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.$=exports.Ele=void 0;var _util=require("./util.js");function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var Ele=exports.Ele=function e(t){return new e.fn.init(t)},$=exports.$=Ele;Ele.fn=Ele.prototype={init:function(e){if("string"===(0,_util.stypeof)(e))return this.ele=[].concat(_toConsumableArray(document.querySelectorAll(e))),this.length=this.ele.length,this.selector=e,this;if(e.nodeType)return this.ele=[e],this.length=1,this;if("array"===(0,_util.stypeof)(e)||"nodelist"===(0,_util.stypeof)(e))return this.ele=[].concat(_toConsumableArray(e)),this.length=this.ele.length,this;throw new Error("类型错误")}},Ele.fn.init.prototype=Ele.prototype,Ele.fn.each=function(e){if("array"===(0,_util.stypeof)(this.ele))return this.ele.map(function(e){return $(e)}).forEach(e),this;throw new Error("ele不为数组")},Ele.fn.get=function(e){return 0<e?e<this.ele.length?this.ele[e]:this.ele[this.ele.length]:this.ele[0]},Ele.fn.index=function(e){e=e||0;var t=this.ele[e].parentNode;return[].concat(_toConsumableArray(t.children)).indexOf(this.ele[0])},Ele.fn.html=function(e,t){if("string"===(0,_util.stypeof)(e)||"number"===(0,_util.stypeof)(e))return t?this.ele[0].innerHTML+=e:this.ele[0].innerHTML=e,this;if(e)throw new Error("类型错误");return this.ele[0].innerHTML},Ele.fn.addClass=function(e){var t=!0,r=!1,n=void 0;try{for(var i,l=this.ele[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var o=i.value,s=o.getAttribute("class");s?new RegExp("\\s"+e+"$|\\s"+e+"\\s|"+e).test(s)||o.setAttribute("class",s+" "+e):this.ele[0].setAttribute("class",e)}}catch(e){r=!0,n=e}finally{try{!t&&l.return&&l.return()}finally{if(r)throw n}}return this},Ele.fn.removeClass=function(e){if(e){var t=!0,r=!1,n=void 0;try{for(var i,l=this.ele[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var o=i.value,s=o.getAttribute("class"),f=new RegExp("\\s*"+e);f.test(s)&&o.setAttribute("class",s.replace(f,""))}}catch(e){r=!0,n=e}finally{try{!t&&l.return&&l.return()}finally{if(r)throw n}}}else this.ele[0].setAttribute("class","");return this},Ele.fn.attr=function(e,t){return t?(this.ele[0].setAttribute(e,t),this):this.ele[0].getAttribute(e)},Ele.fn.clearStyle=function(){return this.ele[0].style.cssText="",this},Ele.fn.css=function(n){if("object"===(0,_util.stypeof)(n))return this.ele.forEach(function(e){var t="";for(var r in n)t+=r+":"+n[r]+";";e.style.cssText+=t}),this;if("string"===(0,_util.stypeof)(n))return getComputedStyle?getComputedStyle(this.ele[0])[n]:this.ele[0].currentStyle[n];if(n)throw new Error("类型错误");return getComputedStyle?getComputedStyle(this.ele[0]):this.ele[0].currentStyle},Ele.fn.width=function(e){return e=e||0,this.ele[e].offsetWidth},Ele.fn.height=function(e){return e=e||0,this.ele[e].offsetHeight},Ele.fn.left=function(e){return e=e||0,this.ele[e].offsetLeft},Ele.fn.top=function(e){return e=e||0,this.ele[e].offsetTop},Ele.fn.parent=function(){var t=[];return this.ele.forEach(function(e){t.push(e.parentNode)}),$(t)},Ele.fn.children=function(){var t=[];return this.ele.forEach(function(e){t.push.apply(t,_toConsumableArray(e.children))}),$(t)},Ele.fn.eq=function(e){return $(this.ele[e])},Ele.fn.siblings=function(){var e=this.ele[0],t=this.ele[0].parentNode.children,r=[],n=!0,i=!1,l=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var f=o.value;f!==e&&r.push(f)}}catch(e){i=!0,l=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw l}}return $(r)},Ele.fn.first=function(){return $(this.ele[0])},Ele.fn.last=function(){return $(this.ele[this.length-1])},Ele.fn.firstChild=function(){return this.children().first()},Ele.fn.lastChild=function(){return this.children().last()},Ele.fn.append=function(t){return this.ele.forEach(function(e){e.appendChild(t.get())}),this},Ele.fn.remove=function(){var t=this;console.log(this.parent().get(),this.ele[0]),this.ele.forEach(function(e){t.parent().get().removeChild(t.ele[0])})},Ele.fn.clone=function(i,e){var l=this.ele[0].cloneNode(!0).outerHTML;l=l.replace("none","block");function t(n){function e(r){l=l.replace(t,function(e){if("text"===r)return e+i[n][r];var t=new RegExp("("+r+")=('|\").*?('|\")");return t.test(e)?e.replace(t,function(e,t){return t+'="'+i[n][r]+'"'}):e.slice(0,-1)+" "+r+'="'+i[n][r]+'">'})}var t=new RegExp("<[^>]*"+n+"[^<]*>");for(var r in i[n])e(r)}for(var r in i)t(r);if(e&&"text"===e)return l;var n=document.createElement("div");return n.innerHTML=l,$(n.children[0])},Ele.fn.on=function(e,t){if(this.ele[0].addEventListener){var r=!0,n=!1,i=void 0;try{for(var l,o=this.ele[Symbol.iterator]();!(r=(l=o.next()).done);r=!0){var s=l.value;s.addEventListener(e,t.bind($(s)),!0)}}catch(e){n=!0,i=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}}else{var f=!0,u=!1,a=void 0;try{for(var h,c=this.ele[Symbol.iterator]();!(f=(h=c.next()).done);f=!0){var y=h.value;y.attachEvent("on"+e,t.bind($(y)))}}catch(e){u=!0,a=e}finally{try{!f&&c.return&&c.return()}finally{if(u)throw a}}}return this},Ele.fn.hover=function(e,t){if(this.ele[0].addEventListener){var r=!0,n=!1,i=void 0;try{for(var l,o=this.ele[Symbol.iterator]();!(r=(l=o.next()).done);r=!0){var s=l.value;s.addEventListener("mouseover",e.bind($(s)),!0),s.addEventListener("mouseout",t.bind($(s)),!0)}}catch(e){n=!0,i=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}}else{var f=!0,u=!1,a=void 0;try{for(var h,c=this.ele[Symbol.iterator]();!(f=(h=c.next()).done);f=!0){var y=h.value;y.attachEvent("onmouseover",e.bind($(y))),y.attachEvent("mouseout",t.bind($(y)))}}catch(e){u=!0,a=e}finally{try{!f&&c.return&&c.return()}finally{if(u)throw a}}}},Ele.fn.show=function(){return this.ele.forEach(function(e){$(e).css({display:"block"})}),this},Ele.fn.hide=function(){return this.ele.forEach(function(e){$(e).css({display:"none"})}),this};